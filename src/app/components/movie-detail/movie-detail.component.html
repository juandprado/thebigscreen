<div class="container">
<br>

<div *ngIf="movie" class="row">
  <div class="col-sm-4">
    <img *ngIf='movie.poster_path' class="img-fluid" src="{{'https://image.tmdb.org/t/p/w500'+movie.poster_path}}"/>
    <img *ngIf='!movie.poster_path' class="img-fluid" src="https://www.themoviedb.org/assets/static_cache/afc8955ea7e6aabcf0c9d8254346b928/images/v4/logos/312x276-primary-blue.png"/>
    <div *ngIf='movie.release_date'><label>Release Date: </label>{{movie.release_date}}</div>
    <div *ngIf='movie.genres'><label>Genres: </label><span *ngFor="let genre of movie.genres; let isLast=last">{{genre.name}}{{isLast ? '' : ', '}}</span></div>
    <div *ngIf='movie.budget'><label>Budget: </label>{{movie.budget | currency:'USD':true:'4.0-2'}}</div>
    <div *ngIf='movie.revenue'><label>Box office: </label>{{movie.revenue | currency:'USD':true:'4.0-2'}}</div>
  </div>

  <div class="col-sm-8">
    <div class="row">
      <div class="col-sm-10">
        <h2>{{movie.title}} ({{movie.release_date | date: 'yyyy'}})</h2>
      </div>
      <div class="col-sm-2">
        <h3 style="text-align:right;">{{movie.vote_average}} <i class="fa fa-star" aria-hidden="true"></i></h3>
      </div>
    </div>

    <span class="right"> </span><span class="left"></span>


    <br>
    <p>{{movie.overview}}</p>

    <div *ngIf="movie.videos.results[0]">
      <div><label><h4>Trailer</h4></label></div>
      <div class="embed-responsive embed-responsive-16by9">
        <iframe class="embed-responsive-item" [src]="'https://www.youtube.com/embed/'+movie.videos.results[0].key | safe" allowfullscreen></iframe>
      </div>
    </div>

    <div *ngIf="crew"><label *ngIf="crew[0]"><h4>Main Crew</h4></label>
      <br>
      <md-grid-list cols="4" rowHeight="1:1">
        <md-grid-tile *ngFor="let person of crew" (click)="gotoDetail(person)">
          <img *ngIf="person.profile_path" src="{{'https://image.tmdb.org/t/p/w185'+person.profile_path}}" alt="No image found">
          <img *ngIf="!person.profile_path" src="https://www.themoviedb.org/assets/static_cache/c9dbe2292fb5eea61788571fbd96fa67/images/v4/logos/208x226-stacked-blue.png" alt="No image found">
          <md-grid-tile-footer>
            <h3><b>{{person.name}} ({{person.job}})</b></h3>
          </md-grid-tile-footer>
        </md-grid-tile>
      </md-grid-list>
      <br>
    </div>

    <div *ngIf="cast"><label *ngIf="cast[0]"><h4>Main Cast</h4></label>
      <br>
      <md-grid-list cols="4" rowHeight="1:1">
        <md-grid-tile *ngFor="let person of cast" (click)="gotoDetail(person)">
          <img *ngIf="person.profile_path" src="{{'https://image.tmdb.org/t/p/w185'+person.profile_path}}" alt="No image found">
          <img *ngIf="!person.profile_path" src="https://www.themoviedb.org/assets/static_cache/c9dbe2292fb5eea61788571fbd96fa67/images/v4/logos/208x226-stacked-blue.png" alt="No image found">
          <md-grid-tile-footer>
            <h3><b>{{person.name}}</b></h3>
          </md-grid-tile-footer>
        </md-grid-tile>
      </md-grid-list>
      <br>
    </div>

    <div><label><h4>Similar Movies</h4></label>
      <br>
      <md-grid-list cols="4" rowHeight="1:1">
        <md-grid-tile *ngFor="let mov of similar" (click)="gotoDetail(mov)">
          <img *ngIf="mov.poster_path" src="{{'https://image.tmdb.org/t/p/w185'+mov.poster_path}}" alt="No image found">
          <img *ngIf="!mov.poster_path" src="https://www.themoviedb.org/assets/static_cache/c9dbe2292fb5eea61788571fbd96fa67/images/v4/logos/208x226-stacked-blue.png" alt="No image found">
          <md-grid-tile-footer>
            <h3><b>{{mov.title}}</b></h3>
          </md-grid-tile-footer>
        </md-grid-tile>
      </md-grid-list>
      <br>
    </div>
  </div>
</div>

</div>
